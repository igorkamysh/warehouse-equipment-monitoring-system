# Пошаговая инструкция как добавить пользователя в базу данных

## Подключение к базе данных
Подключиться к базе данных можно один из двух способов ниже: 

1. Через терминал
Сначала введите команду ниже. Посмотрите в колонке `CONTAINER ID` id контейнера, у которого в колонке `IMAGE` указано `postgres:13.3`.
```
docker ps -a
```
С помощью следующей команды мы подключимся к базе данных, внутри которой создадим пользователей для системы.
Вставьте скопированный `id` в команду ниже. Также вставьте внутри ковычек параметры из конфигурационного файла `config/prod.yml` 
```
docker exec -i -t <container_id> psql -U "postgres: user" -d "postgres: db"
```
2. Через приложение Docker Desktop 
Откройте приложение `Docker Desktop` и передите в контейнер с базой данных: вкладка `Containers` -> `sharing-wh-machines...` -> `storage`. Откройте вкладку `Exec` и выполните в ней следующую команду:

С помощью следующей команды мы подключимся к базе данных, внутри которой создадим пользователей для системы.
Вставьте внутри ковычек параметры из конфигурационного файла `config/prod.yml` (названия параметров указаны в `""`): 

```
psql -U "postgres: user" -d "postgres: db"
```


## Добавление пользователя 
Следующая команда создаст пользователя в базе данных. Подставьте вместо параметров в `<>` действительные данные работника, которого хотите добавить в систему. Требования для параметров:
- **номер телефона** в формате: `89998887766` без пробелов.
- **роль**: одно из двух `admin` или `worker` 
- **пароль**: длина >= 8 символов 

```
INSERT INTO users(name, phone_number, job_position, password) VALUES ('<имя>', '<номер телефона>', '<роль>', '<пароль>');
```

